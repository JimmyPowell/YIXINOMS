# Git 提交规范 (Conventional Commits)

## 概述

本项目采用 **Conventional Commits（约定式提交）** 规范来标准化 Git 提交信息。这种规范使提交历史更易读、更结构化，并支持自动化工具生成变更日志(CHANGELOG)。

## 提交消息结构

一个标准的约定式提交消息包含以下结构：

```
type(scope): description

[可选的正文]

[可选的脚注]
```

### 1. 标题行（必需）

* **类型(type)**：表明本次提交的性质（必需）
* **作用域(scope)**：表明本次提交影响的范围（可选）
* **描述(description)**：简短描述本次提交的内容（必需）

### 2. 正文（可选）

提供更详细的变更说明，解释"为什么"进行此更改而非"如何"更改。

### 3. 脚注（可选）

包含重大变更(BREAKING CHANGE)说明或引用相关的问题编号。

## 提交类型(Type)

* **feat**: 新功能
* **fix**: 修复bug
* **docs**: 文档变更
* **style**: 代码格式调整，不影响代码逻辑
* **refactor**: 代码重构，既不是新增功能也不是修复bug
* **perf**: 性能优化
* **test**: 添加或修改测试代码
* **build**: 影响构建系统或外部依赖的更改
* **ci**: 持续集成相关文件和脚本变更
* **chore**: 其他不修改源代码或测试的变更
* **revert**: 撤销之前的提交

## 作用域(Scope)

作用域说明本次提交影响的模块或功能区域，例如：

* **api**: API相关变更
* **ui**: 用户界面相关变更
* **auth**: 认证授权相关变更
* **order**: 订单模块相关变更
* **user**: 用户模块相关变更
* **inventory**: 库存管理相关变更
* **logistics**: 物流配送相关变更
* **payment**: 支付系统相关变更
* **report**: 报表分析相关变更

## 最佳实践

1. **使用祈使句**：描述应当使用祈使句（如"add feature"而非"added feature"）
2. **首字母小写**：描述的首字母应小写（专有名词除外）
3. **不加句号**：描述结尾不加标点符号
4. **简洁明了**：标题行应控制在50个字符以内
5. **详细说明**：复杂变更应在正文中提供详细说明
6. **关联问题**：在脚注中关联相关issue，如"Closes #123"

## 示例

### 简单新功能：
```
feat: 添加用户登录功能
```

### 带作用域的Bug修复：
```
fix(api): 修复订单查询接口返回错误数据的问题
```

### 文档更新：
```
docs: 更新README安装说明
```

### 带详细说明的重构：
```
refactor: 简化用户注册逻辑

移除冗余的验证检查并优化数据库交互。
此改动提高了性能和可维护性。
```

### 包含重大变更和关联Issue：
```
feat: 引入新的用户个人资料API

本次提交引入了一个新的API端点用于管理用户资料。
它替代了旧的/users/{id}/profile端点，新端点为/profiles/{id}。

BREAKING CHANGE: 旧的/users/{id}/profile端点已被移除。
用户必须更新集成以使用新的/profiles/{id}端点。

Closes #99
```

## 工具推荐

为了更好地遵循此规范，推荐使用以下工具：

* **commitlint**: 用于检查提交信息是否符合约定式提交规范
* **commitizen**: 交互式命令行工具，帮助撰写符合规范的提交信息
* **standard-version**: 自动生成CHANGELOG并管理版本号

## 为什么使用约定式提交？

* 自动化生成CHANGELOG
* 基于语义化的提交信息自动决定版本号变更
* 明确变更的性质和范围，便于团队沟通和代码审查
* 帮助新成员快速了解项目历史和变更目的 